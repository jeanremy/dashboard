{% extends 'FlydDashboardBundle::layout.html.twig' %}

{% block title %}
		<title>Ajouter un utilisateur</title>
{% endblock %}

{% block top %}
		<p>
			<span class="prev"><a href="{{ path('user_list') }}">Utilisateurs</a></span>
				Ajouter
		</p>
{% endblock %}

{% block body %}
		
		<div class="title__container">
			<h1 class="lvl1">Ajouter un utilisateur</h1>
		</div>

		{{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}

			{% if form_errors(form) %}
			<div class="row">
				<div class="col-sm-12">
					<div class="bloc">
							{{ form_errors(form) }}
					</div>
				</div>
			</div>
			{% endif %}

			{% form_theme form 'FlydDashboardBundle::errors.html.twig' %}


			<div class="row">
				<div class="col-sm-12">
					<div class="bloc bloc--general bloc-inline-edition edit">
						<h2 class="bloc__title">Informations générales</h2>
							<div class="form-group">
								{{ form_label(form.username, "Nom d'utilisateur", {'label_attr': {'class': 'control-label'}}) }}

								<div class="data">
									{# Génération de l'input. #}
									{{ form_widget(form.username, {'attr': {'class': 'form-control'}}) }}
								</div>
								{{ form_errors(form.username) }}
							</div>

							<div class="form-group">
								{{ form_label(form.job, "Profession", {'label_attr': {'class': 'control-label'}}) }}

								<div class="data">
									{# Génération de l'input. #}
									{{ form_widget(form.job, {'attr': {'class': 'form-control'}}) }}
								</div>
								{{ form_errors(form.job) }}
							</div>

							<div class="form-group">
								{{ form_label(form.email, "Email", {'label_attr': {'class': 'control-label'}}) }}

								<div class="data">
									{# Génération de l'input. #}
									{{ form_widget(form.email, {'attr': {'class': 'form-control'}}) }}
								</div>
								{{ form_errors(form.email) }}
							</div>

							<div class="form-group">
								{{ form_label(form.password.first, "Mot de passe", {'label_attr': {'class': 'control-label'}}) }}

								<div class="data">
									{# Génération de l'input. #}
									{{ form_widget(form.password.first, {'attr': {'class': 'form-control'}}) }}
								</div>
								{{ form_errors(form.password.first) }}
							</div>

							<div class="form-group">
								{{ form_label(form.password.second, "Mot de passe (encore)", {'label_attr': {'class': 'control-label'}}) }}

								<div class="data">
									{# Génération de l'input. #}
									{{ form_widget(form.password.second, {'attr': {'class': 'form-control'}}) }}
								</div>
								{{ form_errors(form.password.second) }}
							</div>

							<div class="form-group">
								{{ form_label(form.image, "Profil", {'label_attr': {'class': 'control-label'}}) }}

								<div class="data">
									{# Génération de l'input. #}
									{{ form_widget(form.image, {'attr': {'class': 'form-control'}}) }}
								</div>
								{{ form_errors(form.image) }}
							</div>
							{{ form_widget(form.save) }}
							{{ form_rest(form) }}
						</div>
					</div>
				</div>
			</div>
	


	{# Génération automatique des champs pas encore écrits.
	Dans cet exemple, ce serait le champ CSRF (géré automatiquement par Symfony !)
	et tous les champs cachés (type « hidden »). #}

	{# Fermeture de la balise <form> du formulaire HTML #}
	{{ form_end(form) }}

{% endblock %}
